<mat-form-field>
  <mat-label>
    <div class="label-row-center">
      <!-- Prefix icon -->
      @if(prefixIcon){
      <mat-icon [color]="iconColor()">{{ prefixIcon }}</mat-icon>
      }

      {{ label || inputName | titlecase }}

      <!-- Typing indicator -->
      <mat-icon [color]="iconColor()">
        @if(mdtxInput.isTyping()){
        <mat-progress-spinner
          [diameter]="15"
          mode="indeterminate"
        ></mat-progress-spinner>
        }
      </mat-icon>
    </div>
  </mat-label>
  <textarea
    #mdtxInput="mdtxInput"
    [name]="inputName"
    [formControl]="inputControl"
    mdtxInput
    matInput
    [attr.data-testid]="testid()"
  ></textarea>

  <!-- Text suffix -->
  @if(textPrefix){
  <span matTextPrefix> {{ textPrefix }}</span>
  }

  <!-- Text suffix -->
  @if(textSuffix){
  <span matTextSuffix> {{ textSuffix }}</span>
  }

  <mat-error>{{ getErrorMessage() }}</mat-error>
</mat-form-field>
