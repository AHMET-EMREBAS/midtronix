<!-- Barcode Scanner  -->

<div class="pos-container" #containerRef>
  <ng-template #barcodeScanner>
    <mat-form-field appearance="outline">
      <mat-label>Scan</mat-label>
      <input
        matInput
        type="text"
        autocomplete="off"
        [formControl]="scanControl"
      />
    </mat-form-field>
  </ng-template>

  <div class="pos-container">
    <div class="pos-toolbar">
      <ng-container *ngTemplateOutlet="barcodeScanner"></ng-container>
    </div>

    <div class="pos-middle-container">
      <mdtx-pos-product-card-list
        *ngIf="productListItems$ | async as productListItems"
        [productListItems]="productListItems"
        (addToCartEvent)="addToCartEventHandler($event)"
      ></mdtx-pos-product-card-list>

      <mdtx-pos-order-card-list
        *ngIf="orderListItems$ | async as orderListItems"
        [orderListItems]="orderListItems"
        (editButtonClickEvent)="editButtonClickEventHandler($event)"
        (deleteButtonClickEvent)="deleteButtonClickEventHandler($event)"
      ></mdtx-pos-order-card-list>
    </div>
  </div>

  @if(orderUnderUpdate){

  <mdtx-pos-order-editor
    [activeStore]="activeStore"
    [activePriceLevel]="activePriceLevel"
    [activeOrder]="orderUnderUpdate"
    (updateEvent)="updateOrderEventHandler()"
    (closeEvent)="closeOrderEditorHandler()"
  ></mdtx-pos-order-editor>
  }
</div>
